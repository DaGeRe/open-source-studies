/**                                                                                                    /**                                                                                                 
* &lt;p&gt;Converts a given name of class into canonical format.                                       * &lt;p&gt;Converts a given name of class into canonical format.                                    
* If name of class is not a name of array class it returns                                             * If name of class is not a name of array class it returns                                          
* unchanged name.&lt;/p&gt;                                                                            * unchanged name.&lt;/p&gt;                                                                         
* &lt;p&gt;Example:                                                                                    * &lt;p&gt;Example:                                                                                 
* &lt;ul&gt;                                                                                           * &lt;ul&gt;                                                                                        
* &lt;li&gt;&lt;code&gt;getCanonicalName("[I") = "int[]"&lt;/code&gt;&lt;/li&gt;                       * &lt;li&gt;&lt;code&gt;getCanonicalName("[I") = "int[]"&lt;/code&gt;&lt;/li&gt;                    
* &lt;li&gt;&lt;code&gt;getCanonicalName("[Ljava.lang.String;") = "java.lang.String[]"&lt;/code&gt;&   * &lt;li&gt;&lt;code&gt;getCanonicalName("[Ljava.lang.String;") = "java.lang.String[]"&lt;/code&gt;&
* &lt;li&gt;&lt;code&gt;getCanonicalName("java.lang.String") = "java.lang.String"&lt;/code&gt;&lt;/l   * &lt;li&gt;&lt;code&gt;getCanonicalName("java.lang.String") = "java.lang.String"&lt;/code&gt;&lt;/l
* &lt;/ul&gt;                                                                                          * &lt;/ul&gt;                                                                                       
* &lt;/p&gt;                                                                                           * &lt;/p&gt;                                                                                        
*                                                                                                      *                                                                                                   
* @param className the name of class                                                                   * @param className the name of class                                                                
* @return canonical form of class name                                                                 * @return canonical form of class name                                                              
* @since 2.4                                                                                           * @since 2.4                                                                                        
*/                                                                                                     */                                                                                                  
private static String getCanonicalName(String className) {                                             private static String getCanonicalName(String className) {                                          
className = StringUtils.deleteWhitespace(className);                                                   className = StringUtils.deleteWhitespace(className);                                                
if (className == null) {                                                                               if (className == null) {                                                                            
return null;                                                                                           return null;                                                                                        
} else {                                                                                               } else {                                                                                            
int dim = 0;                                                                                           int dim = 0;                                                                                        
while (className.startsWith("[")) {                                                                    while (className.startsWith("[")) {                                                                 
dim++;                                                                                                 dim++;                                                                                              
className = className.substring(1);                                                                    className = className.substring(1);                                                                 
}                                                                                                      }                                                                                                   
if (dim &lt; 1) {                                                                                      if (dim &lt; 1) {                                                                                   
return className;                                                                                      return className;                                                                                   
} else {                                                                                               } else {                                                                                            
if (className.startsWith("L")) {                                                                       if (className.startsWith("L")) {                                                                    
className = className.substring(1, className.endsWith(";") ? className.length() - 1 : className.leng   className = className.substring(1, className.endsWith(";") ? className.length() - 1 : className.leng
} else {                                                                                               } else {                                                                                            
if (className.length() &gt; 0) {                                                                       if (className.length() &gt; 0) {                                                                    
className = (String) reverseAbbreviationMap.get(className.substring(0, 1));                          | className = reverseAbbreviationMap.get(className.substring(0, 1));                                  
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
StringBuffer canonicalClassNameBuffer = new StringBuffer(className);                                   StringBuffer canonicalClassNameBuffer = new StringBuffer(className);                                
for (int i = 0; i &lt; dim; i++) {                                                                     for (int i = 0; i &lt; dim; i++) {                                                                  
canonicalClassNameBuffer.append("[]");                                                                 canonicalClassNameBuffer.append("[]");                                                              
}                                                                                                      }                                                                                                   
return canonicalClassNameBuffer.toString();                                                            return canonicalClassNameBuffer.toString();                                                         
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
