/**                                                                                                    /**                                                                                                 
* Create an ExtendedMessageFormat for the specified pattern and locale and check the                   * Create an ExtendedMessageFormat for the specified pattern and locale and check the                
* formated output matches the expected result for the parameters.                                      * formated output matches the expected result for the parameters.                                   
* @param pattern string                                                                                * @param pattern string                                                                             
* @param registry map                                                                                  * @param registry map                                                                               
* @param args Object[]                                                                                 * @param args Object[]                                                                              
* @param locale Locale                                                                                 * @param locale Locale                                                                              
*/                                                                                                     */                                                                                                  
private void checkBuiltInFormat(String pattern, Map registry, Object[] args, Locale locale) {        | private void checkBuiltInFormat(String pattern, Map&lt;String, ?&gt; registry, Object[] args, Locale
StringBuffer buffer = new StringBuffer();                                                              StringBuffer buffer = new StringBuffer();                                                           
buffer.append("Pattern=[");                                                                            buffer.append("Pattern=[");                                                                         
buffer.append(pattern);                                                                                buffer.append(pattern);                                                                             
buffer.append("], locale=[");                                                                          buffer.append("], locale=[");                                                                       
buffer.append(locale);                                                                                 buffer.append(locale);                                                                              
buffer.append("]");                                                                                    buffer.append("]");                                                                                 
MessageFormat mf = createMessageFormat(pattern, locale);                                               MessageFormat mf = createMessageFormat(pattern, locale);                                            
// System.out.println(buffer + ", result=[" + mf.format(args) +"]");                                   // System.out.println(buffer + ", result=[" + mf.format(args) +"]");                                
ExtendedMessageFormat emf = null;                                                                      ExtendedMessageFormat emf = null;                                                                   
if (locale == null) {                                                                                  if (locale == null) {                                                                               
emf = new ExtendedMessageFormat(pattern);                                                              emf = new ExtendedMessageFormat(pattern);                                                           
} else {                                                                                               } else {                                                                                            
emf = new ExtendedMessageFormat(pattern, locale);                                                      emf = new ExtendedMessageFormat(pattern, locale);                                                   
}                                                                                                      }                                                                                                   
assertEquals("format " + buffer.toString(), mf.format(args), emf.format(args));                        assertEquals("format " + buffer.toString(), mf.format(args), emf.format(args));                     
assertPatternsEqual("toPattern " + buffer.toString(), mf.toPattern(), emf.toPattern());                assertPatternsEqual("toPattern " + buffer.toString(), mf.toPattern(), emf.toPattern());             
}                                                                                                      }                                                                                                   
