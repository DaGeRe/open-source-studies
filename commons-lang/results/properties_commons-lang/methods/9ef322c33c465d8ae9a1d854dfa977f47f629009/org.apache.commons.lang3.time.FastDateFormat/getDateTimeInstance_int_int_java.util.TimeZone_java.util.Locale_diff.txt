/**                                                                                                    /**                                                                                                 
* &lt;p&gt;Gets a date/time formatter instance using the specified style,                              * &lt;p&gt;Gets a date/time formatter instance using the specified style,                           
* time zone and locale.&lt;/p&gt;                                                                      * time zone and locale.&lt;/p&gt;                                                                   
*                                                                                                      *                                                                                                   
* @param dateStyle  date style: FULL, LONG, MEDIUM, or SHORT                                           * @param dateStyle  date style: FULL, LONG, MEDIUM, or SHORT                                        
* @param timeStyle  time style: FULL, LONG, MEDIUM, or SHORT                                           * @param timeStyle  time style: FULL, LONG, MEDIUM, or SHORT                                        
* @param timeZone  optional time zone, overrides time zone of                                          * @param timeZone  optional time zone, overrides time zone of                                       
*  formatted date                                                                                      *  formatted date                                                                                   
* @param locale  optional locale, overrides system locale                                              * @param locale  optional locale, overrides system locale                                           
* @return a localized standard date/time formatter                                                     * @return a localized standard date/time formatter                                                  
* @throws IllegalArgumentException if the Locale has no date/time                                      * @throws IllegalArgumentException if the Locale has no date/time                                   
*  pattern defined                                                                                     *  pattern defined                                                                                  
*/                                                                                                     */                                                                                                  
public static synchronized FastDateFormat getDateTimeInstance(int dateStyle, int timeStyle, TimeZone | public static FastDateFormat getDateTimeInstance(int dateStyle, int timeStyle, TimeZone timeZone, Lo
Object key = new Pair(Integer.valueOf(dateStyle), Integer.valueOf(timeStyle));                       | return cache.getDateTimeInstance(dateStyle, timeStyle, timeZone, locale);                           
if (timeZone != null) {                                                                              |                                                                                                     
key = new Pair(key, timeZone);                                                                       |                                                                                                     
}                                                                                                      }                                                                                                   
if (locale == null) {                                                                                |                                                                                                     
locale = Locale.getDefault();                                                                        |                                                                                                     
}                                                                                                    |                                                                                                     
key = new Pair(key, locale);                                                                         |                                                                                                     
FastDateFormat format = cDateTimeInstanceCache.get(key);                                             |                                                                                                     
if (format == null) {                                                                                |                                                                                                     
try {                                                                                                |                                                                                                     
SimpleDateFormat formatter = (SimpleDateFormat) DateFormat.getDateTimeInstance(dateStyle, timeStyle, |                                                                                                     
String pattern = formatter.toPattern();                                                              |                                                                                                     
format = getInstance(pattern, timeZone, locale);                                                     |                                                                                                     
cDateTimeInstanceCache.put(key, format);                                                             |                                                                                                     
} catch (ClassCastException ex) {                                                                    |                                                                                                     
throw new IllegalArgumentException("No date time pattern for locale: " + locale);                    |                                                                                                     
}                                                                                                    |                                                                                                     
}                                                                                                    |                                                                                                     
return format;                                                                                       |                                                                                                     
}                                                                                                    |                                                                                                     
