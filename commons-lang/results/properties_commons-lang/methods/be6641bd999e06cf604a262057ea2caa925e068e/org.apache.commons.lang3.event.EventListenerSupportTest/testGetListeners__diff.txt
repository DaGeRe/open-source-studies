public void testGetListeners() {                                                                       public void testGetListeners() {                                                                    
final EventListenerSupport&lt;ActionListener&gt; listenerSupport = EventListenerSupport.create(Actio   final EventListenerSupport&lt;ActionListener&gt; listenerSupport = EventListenerSupport.create(Actio
ActionListener[] listeners = listenerSupport.getListeners();                                           ActionListener[] listeners = listenerSupport.getListeners();                                        
assertEquals(0, listeners.length);                                                                     assertEquals(0, listeners.length);                                                                  
                                                                                                     | assertEquals(ActionListener.class, listeners.getClass().getComponentType());                        
ActionListener[] empty = listeners;                                                                    ActionListener[] empty = listeners;                                                                 
// for fun, show that the same empty instance is used                                                  // for fun, show that the same empty instance is used                                               
assertSame(empty, listenerSupport.getListeners());                                                     assertSame(empty, listenerSupport.getListeners());                                                  
ActionListener listener1 = EasyMock.createNiceMock(ActionListener.class);                              ActionListener listener1 = EasyMock.createNiceMock(ActionListener.class);                           
listenerSupport.addListener(listener1);                                                                listenerSupport.addListener(listener1);                                                             
assertEquals(1, listenerSupport.getListeners().length);                                                assertEquals(1, listenerSupport.getListeners().length);                                             
assertEquals(ActionListener.class, listenerSupport.getListeners().getClass().getComponentType());    |                                                                                                     
ActionListener listener2 = EasyMock.createNiceMock(ActionListener.class);                              ActionListener listener2 = EasyMock.createNiceMock(ActionListener.class);                           
listenerSupport.addListener(listener2);                                                                listenerSupport.addListener(listener2);                                                             
assertEquals(2, listenerSupport.getListeners().length);                                                assertEquals(2, listenerSupport.getListeners().length);                                             
listenerSupport.removeListener(listener1);                                                             listenerSupport.removeListener(listener1);                                                          
assertEquals(1, listenerSupport.getListeners().length);                                                assertEquals(1, listenerSupport.getListeners().length);                                             
listenerSupport.removeListener(listener2);                                                             listenerSupport.removeListener(listener2);                                                          
assertSame(empty, listenerSupport.getListeners());                                                     assertSame(empty, listenerSupport.getListeners());                                                  
}                                                                                                      }                                                                                                   
