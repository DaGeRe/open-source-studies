/**                                                                                                    /**                                                                                                 
* Generate a string representation of an Annotation, as suggested by                                   * Generate a string representation of an Annotation, as suggested by                                
* {@link Annotation#toString()}.                                                                       * {@link Annotation#toString()}.                                                                    
* @param a the annotation of which a string representation is desired                                  * @param a the annotation of which a string representation is desired                               
* @return String                                                                                       * @return String                                                                                    
*/                                                                                                     */                                                                                                  
public static String toString(final Annotation a) {                                                    public static String toString(final Annotation a) {                                                 
return new StringBuilder(a.annotationType().getName()).insert(0, '@').append('(').append(StringUtils | ToStringBuilder builder = new ToStringBuilder(a, TO_STRING_STYLE);                                  
                                                                                                     | for (Method m : a.annotationType().getDeclaredMethods()) {                                          
public Iterator&lt;String&gt; iterator() {                                                           | if (m.getParameterTypes().length &gt; 0) {                                                          
final Method[] methods = a.annotationType().getDeclaredMethods();                                    | // wtf?                                                                                             
return new Iterator&lt;String&gt;() {                                                                | continue;                                                                                           
                                                                                                                                                                                                           
int pos = 0;                                                                                         |                                                                                                     
                                                                                                                                                                                                           
public boolean hasNext() {                                                                           |                                                                                                     
return pos &lt; methods.length;                                                                      |                                                                                                     
}                                                                                                      }                                                                                                   
                                                                                                                                                                                                           
public String next() {                                                                               |                                                                                                     
Method m = methods[pos++];                                                                           |                                                                                                     
try {                                                                                                  try {                                                                                               
return new StringBuilder(m.getName()).append('=').append(m.invoke(a)).toString();                    | builder.append(m.getName(), m.invoke(a));                                                           
                                                                                                     | } catch (RuntimeException e) {                                                                      
                                                                                                     | throw e;                                                                                            
} catch (Exception e) {                                                                                } catch (Exception e) {                                                                             
throw new RuntimeException(e);                                                                         throw new RuntimeException(e);                                                                      
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
                                                                                                     | return builder.build();                                                                             
public void remove() {                                                                               |                                                                                                     
throw new UnsupportedOperationException();                                                           |                                                                                                     
}                                                                                                      }                                                                                                   
};                                                                                                   |                                                                                                     
}                                                                                                    |                                                                                                     
}, ", ")).append(')').toString();                                                                    |                                                                                                     
}                                                                                                    |                                                                                                     
