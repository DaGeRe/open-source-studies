                                                                                                     | /**                                                                                                 
                                                                                                     | * Prepare the next character in the range.                                                          
                                                                                                     | */                                                                                                  
private void prepareNext() {                                                                           private void prepareNext() {                                                                        
if (range.negated) {                                                                                   if (range.negated) {                                                                                
if (current == Character.MAX_VALUE) {                                                                  if (current == Character.MAX_VALUE) {                                                               
hasNext = false;                                                                                       hasNext = false;                                                                                    
} else if (current + 1 == range.start) {                                                               } else if (current + 1 == range.start) {                                                            
if (range.end == Character.MAX_VALUE) {                                                                if (range.end == Character.MAX_VALUE) {                                                             
hasNext = false;                                                                                       hasNext = false;                                                                                    
} else {                                                                                               } else {                                                                                            
current = (char) (range.end + 1);                                                                      current = (char) (range.end + 1);                                                                   
}                                                                                                      }                                                                                                   
} else {                                                                                               } else {                                                                                            
current = (char) (current + 1);                                                                        current = (char) (current + 1);                                                                     
}                                                                                                      }                                                                                                   
} else if (current &lt; range.end) {                                                                   } else if (current &lt; range.end) {                                                                
current = (char) (current + 1);                                                                        current = (char) (current + 1);                                                                     
} else {                                                                                               } else {                                                                                            
hasNext = false;                                                                                       hasNext = false;                                                                                    
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
