public void testInputStreamToByteArray() throws Exception {                                            public void testInputStreamToByteArray() throws Exception {                                         
FileInputStream fin = new FileInputStream(m_testFile);                                                 FileInputStream fin = new FileInputStream(m_testFile);                                              
try {                                                                                                  try {                                                                                               
byte[] out = IOUtils.toByteArray(fin);                                                                 byte[] out = IOUtils.toByteArray(fin);                                                              
assertNotNull(out);                                                                                    assertNotNull(out);                                                                                 
assertTrue("Not all bytes were read", fin.available() == 0);                                         | assertEquals("Not all bytes were read", 0, fin.available());                                        
assertTrue("Wrong output size: out.length=" + out.length + "!=" + FILE_SIZE, out.length == FILE_SIZE | assertEquals("Wrong output size", FILE_SIZE, out.length);                                           
assertEqualContent(out, m_testFile);                                                                   assertEqualContent(out, m_testFile);                                                                
} finally {                                                                                            } finally {                                                                                         
fin.close();                                                                                           fin.close();                                                                                        
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
