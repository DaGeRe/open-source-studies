public static void moveDirectory(final File srcDir, final File destDir) throws IOException {           public static void moveDirectory(final File srcDir, final File destDir) throws IOException {        
if (srcDir == null) {                                                                                | validateMoveParameters(srcDir, destDir);                                                            
throw new NullPointerException("Source must not be null");                                           |                                                                                                     
}                                                                                                    |                                                                                                     
if (destDir == null) {                                                                               |                                                                                                     
throw new NullPointerException("Destination must not be null");                                      |                                                                                                     
}                                                                                                    |                                                                                                     
if (!srcDir.exists()) {                                                                              |                                                                                                     
throw new FileNotFoundException("Source '" + srcDir + "' does not exist");                           |                                                                                                     
}                                                                                                    |                                                                                                     
if (!srcDir.isDirectory()) {                                                                           if (!srcDir.isDirectory()) {                                                                        
throw new IOException("Source '" + srcDir + "' is not a directory");                                   throw new IOException("Source '" + srcDir + "' is not a directory");                                
}                                                                                                      }                                                                                                   
if (destDir.exists()) {                                                                                if (destDir.exists()) {                                                                             
throw new FileExistsException("Destination '" + destDir + "' already exists");                         throw new FileExistsException("Destination '" + destDir + "' already exists");                      
}                                                                                                      }                                                                                                   
final boolean rename = srcDir.renameTo(destDir);                                                       final boolean rename = srcDir.renameTo(destDir);                                                    
if (!rename) {                                                                                         if (!rename) {                                                                                      
if (destDir.getCanonicalPath().startsWith(srcDir.getCanonicalPath() + File.separator)) {               if (destDir.getCanonicalPath().startsWith(srcDir.getCanonicalPath() + File.separator)) {            
throw new IOException("Cannot move directory: " + srcDir + " to a subdirectory of itself: " + destDi   throw new IOException("Cannot move directory: " + srcDir + " to a subdirectory of itself: " + destDi
}                                                                                                      }                                                                                                   
copyDirectory(srcDir, destDir);                                                                        copyDirectory(srcDir, destDir);                                                                     
deleteDirectory(srcDir);                                                                               deleteDirectory(srcDir);                                                                            
if (srcDir.exists()) {                                                                                 if (srcDir.exists()) {                                                                              
throw new IOException("Failed to delete original directory '" + srcDir + "' after copy to '" + destD   throw new IOException("Failed to delete original directory '" + srcDir + "' after copy to '" + destD
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
