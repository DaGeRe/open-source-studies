private void doTestFileWithSpecifiedLines(int lineCount) throws Exception {                            private void doTestFileWithSpecifiedLines(int lineCount) throws Exception {                         
String encoding = "UTF-8";                                                                             String encoding = "UTF-8";                                                                          
String fileName = "LineIterator-" + lineCount + "-test.txt";                                           String fileName = "LineIterator-" + lineCount + "-test.txt";                                        
File testFile = new File(getTestDirectory(), fileName);                                                File testFile = new File(getTestDirectory(), fileName);                                             
List lines = createFile(testFile, encoding, lineCount);                                              | List&lt;String&gt; lines = createFile(testFile, encoding, lineCount);                               
LineIterator iterator = FileUtils.lineIterator(testFile, encoding);                                    LineIterator iterator = FileUtils.lineIterator(testFile, encoding);                                 
try {                                                                                                  try {                                                                                               
try {                                                                                                  try {                                                                                               
iterator.remove();                                                                                     iterator.remove();                                                                                  
fail("Remove is unsupported");                                                                         fail("Remove is unsupported");                                                                      
} catch (UnsupportedOperationException ex) {                                                           } catch (UnsupportedOperationException ex) {                                                        
}                                                                                                      }                                                                                                   
int idx = 0;                                                                                           int idx = 0;                                                                                        
while (iterator.hasNext()) {                                                                           while (iterator.hasNext()) {                                                                        
String line = (String) iterator.next();                                                              | String line = iterator.next();                                                                      
assertEquals("Comparing line " + idx, lines.get(idx), line);                                           assertEquals("Comparing line " + idx, lines.get(idx), line);                                        
assertTrue("Exceeded expected idx=" + idx + " size=" + lines.size(), idx &lt; lines.size());           assertTrue("Exceeded expected idx=" + idx + " size=" + lines.size(), idx &lt; lines.size());        
idx++;                                                                                                 idx++;                                                                                              
}                                                                                                      }                                                                                                   
assertEquals("Line Count doesn't match", idx, lines.size());                                           assertEquals("Line Count doesn't match", idx, lines.size());                                        
try {                                                                                                  try {                                                                                               
iterator.next();                                                                                       iterator.next();                                                                                    
fail("Expected NoSuchElementException");                                                               fail("Expected NoSuchElementException");                                                            
} catch (NoSuchElementException expected) {                                                            } catch (NoSuchElementException expected) {                                                         
}                                                                                                      }                                                                                                   
try {                                                                                                  try {                                                                                               
iterator.nextLine();                                                                                   iterator.nextLine();                                                                                
fail("Expected NoSuchElementException");                                                               fail("Expected NoSuchElementException");                                                            
} catch (NoSuchElementException expected) {                                                            } catch (NoSuchElementException expected) {                                                         
}                                                                                                      }                                                                                                   
} finally {                                                                                            } finally {                                                                                         
LineIterator.closeQuietly(iterator);                                                                   LineIterator.closeQuietly(iterator);                                                                
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
