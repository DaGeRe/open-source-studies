                                                                                                     | @Override                                                                                           
public int available() {                                                                               public int available() {                                                                            
long avail = size - position;                                                                          long avail = size - position;                                                                       
if (avail &lt;= 0) {                                                                                   if (avail &lt;= 0) {                                                                                
return 0;                                                                                              return 0;                                                                                           
} else if (avail &gt; Integer.MAX_VALUE) {                                                             } else if (avail &gt; Integer.MAX_VALUE) {                                                          
return Integer.MAX_VALUE;                                                                              return Integer.MAX_VALUE;                                                                           
} else {                                                                                               } else {                                                                                            
return (int) avail;                                                                                    return (int) avail;                                                                                 
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
