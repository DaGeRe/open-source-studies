public static void copyDirectory(File srcDir, File destDir, boolean preserveFileDate) throws IOExcep   public static void copyDirectory(File srcDir, File destDir, boolean preserveFileDate) throws IOExcep
if (srcDir == null) {                                                                                | copyDirectory(srcDir, destDir, null, preserveFileDate);                                             
throw new NullPointerException("Source must not be null");                                           |                                                                                                     
}                                                                                                      }                                                                                                   
if (destDir == null) {                                                                               |                                                                                                     
throw new NullPointerException("Destination must not be null");                                      |                                                                                                     
}                                                                                                    |                                                                                                     
if (srcDir.exists() == false) {                                                                      |                                                                                                     
throw new FileNotFoundException("Source '" + srcDir + "' does not exist");                           |                                                                                                     
}                                                                                                    |                                                                                                     
if (srcDir.isDirectory() == false) {                                                                 |                                                                                                     
throw new IOException("Source '" + srcDir + "' exists but is not a directory");                      |                                                                                                     
}                                                                                                    |                                                                                                     
if (srcDir.getCanonicalPath().equals(destDir.getCanonicalPath())) {                                  |                                                                                                     
throw new IOException("Source '" + srcDir + "' and destination '" + destDir + "' are the same");     |                                                                                                     
}                                                                                                    |                                                                                                     
List exclusionList = null;                                                                           |                                                                                                     
if (destDir.getCanonicalPath().startsWith(srcDir.getCanonicalPath())) {                              |                                                                                                     
File[] srcFiles = srcDir.listFiles();                                                                |                                                                                                     
if (srcFiles != null && srcFiles.length &gt; 0) {                                                    |                                                                                                     
exclusionList = new ArrayList(srcFiles.length);                                                      |                                                                                                     
for (int i = 0; i &lt; srcFiles.length; i++) {                                                       |                                                                                                     
File copiedFile = new File(destDir, srcFiles[i].getName());                                          |                                                                                                     
exclusionList.add(copiedFile.getCanonicalPath());                                                    |                                                                                                     
}                                                                                                    |                                                                                                     
}                                                                                                    |                                                                                                     
}                                                                                                    |                                                                                                     
doCopyDirectory(srcDir, destDir, preserveFileDate, exclusionList);                                   |                                                                                                     
}                                                                                                    |                                                                                                     
