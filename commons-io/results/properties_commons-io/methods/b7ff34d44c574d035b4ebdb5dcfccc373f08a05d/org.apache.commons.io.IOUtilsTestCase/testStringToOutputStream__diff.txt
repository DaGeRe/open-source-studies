                                                                                                     | @SuppressWarnings("deprecation")                                                                    
public void testStringToOutputStream() throws Exception {                                              public void testStringToOutputStream() throws Exception {                                           
File destination = newFile("copy5.txt");                                                               File destination = newFile("copy5.txt");                                                            
FileReader fin = new FileReader(m_testFile);                                                           FileReader fin = new FileReader(m_testFile);                                                        
String str;                                                                                            String str;                                                                                         
try {                                                                                                  try {                                                                                               
str = IOUtils.toString(fin);                                                                           str = IOUtils.toString(fin);                                                                        
} finally {                                                                                            } finally {                                                                                         
fin.close();                                                                                           fin.close();                                                                                        
}                                                                                                      }                                                                                                   
FileOutputStream fout = new FileOutputStream(destination);                                             FileOutputStream fout = new FileOutputStream(destination);                                          
try {                                                                                                  try {                                                                                               
CopyUtils.copy(str, fout);                                                                             CopyUtils.copy(str, fout);                                                                          
checkFile(destination, m_testFile);                                                                    checkFile(destination, m_testFile);                                                                 
checkWrite(fout);                                                                                      checkWrite(fout);                                                                                   
} finally {                                                                                            } finally {                                                                                         
fout.close();                                                                                          fout.close();                                                                                       
}                                                                                                      }                                                                                                   
deleteFile(destination);                                                                               deleteFile(destination);                                                                            
}                                                                                                      }                                                                                                   
