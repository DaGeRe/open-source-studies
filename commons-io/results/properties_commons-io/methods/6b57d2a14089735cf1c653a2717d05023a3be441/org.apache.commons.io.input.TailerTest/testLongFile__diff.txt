@Test                                                                                                  @Test                                                                                               
public void testLongFile() throws Exception {                                                          public void testLongFile() throws Exception {                                                       
final long delay = 50;                                                                                 final long delay = 50;                                                                              
final File file = new File(getTestDirectory(), "testLongFile.txt");                                    final File file = new File(getTestDirectory(), "testLongFile.txt");                                 
createFile(file, 0);                                                                                   createFile(file, 0);                                                                                
final Writer writer = new FileWriter(file, true);                                                    | try (final Writer writer = new FileWriter(file, true)) {                                            
for (int i = 0; i &lt; 100000; i++) {                                                                  for (int i = 0; i &lt; 100000; i++) {                                                               
writer.write("LineLineLineLineLineLineLineLineLineLine\n");                                            writer.write("LineLineLineLineLineLineLineLineLineLine\n");                                         
}                                                                                                      }                                                                                                   
writer.write("SBTOURIST\n");                                                                           writer.write("SBTOURIST\n");                                                                        
IOUtils.closeQuietly(writer);                                                                        | }                                                                                                   
final TestTailerListener listener = new TestTailerListener();                                          final TestTailerListener listener = new TestTailerListener();                                       
tailer = new Tailer(file, listener, delay, false);                                                     tailer = new Tailer(file, listener, delay, false);                                                  
final long start = System.currentTimeMillis();                                                         final long start = System.currentTimeMillis();                                                      
final Thread thread = new Thread(tailer);                                                              final Thread thread = new Thread(tailer);                                                           
thread.start();                                                                                        thread.start();                                                                                     
List&lt;String&gt; lines = listener.getLines();                                                        List&lt;String&gt; lines = listener.getLines();                                                     
while (lines.isEmpty() || !lines.get(lines.size() - 1).equals("SBTOURIST")) {                          while (lines.isEmpty() || !lines.get(lines.size() - 1).equals("SBTOURIST")) {                       
lines = listener.getLines();                                                                           lines = listener.getLines();                                                                        
}                                                                                                      }                                                                                                   
System.out.println("Elapsed: " + (System.currentTimeMillis() - start));                                System.out.println("Elapsed: " + (System.currentTimeMillis() - start));                             
listener.clear();                                                                                      listener.clear();                                                                                   
}                                                                                                      }                                                                                                   
