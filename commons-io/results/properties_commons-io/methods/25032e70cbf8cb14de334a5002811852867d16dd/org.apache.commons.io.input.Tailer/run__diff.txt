public void run() {                                                                                    public void run() {                                                                                 
try {                                                                                                  try {                                                                                               
                                                                                                     | long last = 0;                                                                                      
                                                                                                     | long position = 0;                                                                                  
                                                                                                     | RandomAccessFile reader = null;                                                                     
while (run && reader == null) {                                                                        while (run && reader == null) {                                                                     
try {                                                                                                  try {                                                                                               
reader = new RandomAccessFile(file, "r");                                                              reader = new RandomAccessFile(file, "r");                                                           
} catch (FileNotFoundException e) {                                                                    } catch (FileNotFoundException e) {                                                                 
listener.fileNotFound();                                                                               listener.fileNotFound();                                                                            
}                                                                                                      }                                                                                                   
if (reader == null) {                                                                                  if (reader == null) {                                                                               
Thread.sleep(delay);                                                                                   Thread.sleep(delay);                                                                                
} else {                                                                                               } else {                                                                                            
position = end ? file.length() : 0;                                                                    position = end ? file.length() : 0;                                                                 
last = System.currentTimeMillis();                                                                     last = System.currentTimeMillis();                                                                  
reader.seek(position);                                                                                 reader.seek(position);                                                                              
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
while (run) {                                                                                          while (run) {                                                                                       
long length = file.length();                                                                           long length = file.length();                                                                        
if (length &lt; position) {                                                                            if (length &lt; position) {                                                                         
listener.fileRotated();                                                                                listener.fileRotated();                                                                             
try {                                                                                                  try {                                                                                               
reader = new RandomAccessFile(file, "r");                                                              reader = new RandomAccessFile(file, "r");                                                           
position = 0;                                                                                          position = 0;                                                                                       
} catch (FileNotFoundException e) {                                                                    } catch (FileNotFoundException e) {                                                                 
listener.fileNotFound();                                                                               listener.fileNotFound();                                                                            
}                                                                                                      }                                                                                                   
continue;                                                                                              continue;                                                                                           
} else {                                                                                               } else {                                                                                            
if (length &gt; position) {                                                                            if (length &gt; position) {                                                                         
readLines();                                                                                         | last = System.currentTimeMillis();                                                                  
                                                                                                     | position = readLines(reader);                                                                       
} else if (FileUtils.isFileNewer(file, last)) {                                                        } else if (FileUtils.isFileNewer(file, last)) {                                                     
position = 0;                                                                                          position = 0;                                                                                       
reader.seek(position);                                                                                 reader.seek(position);                                                                              
readLines();                                                                                         | last = System.currentTimeMillis();                                                                  
                                                                                                     | position = readLines(reader);                                                                       
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
Thread.sleep(delay);                                                                                   Thread.sleep(delay);                                                                                
}                                                                                                      }                                                                                                   
} catch (Exception e) {                                                                                } catch (Exception e) {                                                                             
listener.handle(e);                                                                                    listener.handle(e);                                                                                 
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
