private void testSingleByteRead(final String testString, final String charsetName) throws IOExceptio   private void testSingleByteRead(final String testString, final String charsetName) throws IOExceptio
final byte[] bytes = testString.getBytes(charsetName);                                                 final byte[] bytes = testString.getBytes(charsetName);                                              
final InputStream in = new CharSequenceInputStream(testString, charsetName, 512);                    | try (InputStream in = new CharSequenceInputStream(testString, charsetName, 512)) {                  
try {                                                                                                |                                                                                                     
for (final byte b : bytes) {                                                                           for (final byte b : bytes) {                                                                        
final int read = in.read();                                                                            final int read = in.read();                                                                         
assertTrue("read " + read + " &gt;=0 ", read &gt;= 0);                                                 assertTrue("read " + read + " &gt;=0 ", read &gt;= 0);                                              
assertTrue("read " + read + " &lt;= 255", read &lt;= 255);                                             assertTrue("read " + read + " &lt;= 255", read &lt;= 255);                                          
assertEquals("Should agree with input", b, (byte) read);                                               assertEquals("Should agree with input", b, (byte) read);                                            
}                                                                                                      }                                                                                                   
assertEquals(-1, in.read());                                                                           assertEquals(-1, in.read());                                                                        
} finally {                                                                                          |                                                                                                     
in.close();                                                                                          |                                                                                                     
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
