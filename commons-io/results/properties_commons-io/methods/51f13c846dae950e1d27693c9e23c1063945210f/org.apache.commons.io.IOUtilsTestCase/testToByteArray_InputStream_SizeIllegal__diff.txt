@Test                                                                                                  @Test                                                                                               
public void testToByteArray_InputStream_SizeIllegal() throws Exception {                               public void testToByteArray_InputStream_SizeIllegal() throws Exception {                            
final FileInputStream fin = new FileInputStream(m_testFile);                                         | try (FileInputStream fin = new FileInputStream(m_testFile)) {                                       
try {                                                                                                |                                                                                                     
IOUtils.toByteArray(fin, m_testFile.length() + 1);                                                     IOUtils.toByteArray(fin, m_testFile.length() + 1);                                                  
fail("IOException excepted");                                                                          fail("IOException excepted");                                                                       
} catch (final IOException exc) {                                                                      } catch (final IOException exc) {                                                                   
assertTrue("Exception message does not start with \"Unexpected readed size\"", exc.getMessage().star   assertTrue("Exception message does not start with \"Unexpected readed size\"", exc.getMessage().star
} finally {                                                                                          |                                                                                                     
fin.close();                                                                                         |                                                                                                     
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
