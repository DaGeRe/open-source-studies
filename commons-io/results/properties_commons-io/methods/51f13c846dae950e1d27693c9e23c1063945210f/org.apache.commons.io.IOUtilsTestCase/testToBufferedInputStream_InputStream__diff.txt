@Test                                                                                                  @Test                                                                                               
public void testToBufferedInputStream_InputStream() throws Exception {                                 public void testToBufferedInputStream_InputStream() throws Exception {                              
final FileInputStream fin = new FileInputStream(m_testFile);                                         | try (FileInputStream fin = new FileInputStream(m_testFile)) {                                       
try {                                                                                                |                                                                                                     
final InputStream in = IOUtils.toBufferedInputStream(fin);                                             final InputStream in = IOUtils.toBufferedInputStream(fin);                                          
final byte[] out = IOUtils.toByteArray(in);                                                            final byte[] out = IOUtils.toByteArray(in);                                                         
assertNotNull(out);                                                                                    assertNotNull(out);                                                                                 
assertEquals("Not all bytes were read", 0, fin.available());                                           assertEquals("Not all bytes were read", 0, fin.available());                                        
assertEquals("Wrong output size", FILE_SIZE, out.length);                                              assertEquals("Wrong output size", FILE_SIZE, out.length);                                           
TestUtils.assertEqualContent(out, m_testFile);                                                         TestUtils.assertEqualContent(out, m_testFile);                                                      
} finally {                                                                                          |                                                                                                     
fin.close();                                                                                         |                                                                                                     
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
