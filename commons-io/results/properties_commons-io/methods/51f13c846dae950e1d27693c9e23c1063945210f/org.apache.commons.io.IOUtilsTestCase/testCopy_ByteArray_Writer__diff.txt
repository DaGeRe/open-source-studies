@SuppressWarnings("deprecation")                                                                       @SuppressWarnings("deprecation")                                                                    
@Test                                                                                                  @Test                                                                                               
public void testCopy_ByteArray_Writer() throws Exception {                                             public void testCopy_ByteArray_Writer() throws Exception {                                          
final File destination = TestUtils.newFile(getTestDirectory(), "copy7.txt");                           final File destination = TestUtils.newFile(getTestDirectory(), "copy7.txt");                        
final FileInputStream fin = new FileInputStream(m_testFile);                                         |                                                                                                     
byte[] in;                                                                                             byte[] in;                                                                                          
try {                                                                                                | try (FileInputStream fin = new FileInputStream(m_testFile)) {                                       
in = IOUtils.toByteArray(fin);                                                                         in = IOUtils.toByteArray(fin);                                                                      
} finally {                                                                                          |                                                                                                     
fin.close();                                                                                         |                                                                                                     
}                                                                                                      }                                                                                                   
final FileWriter fout = new FileWriter(destination);                                                 | try (FileWriter fout = new FileWriter(destination)) {                                               
try {                                                                                                |                                                                                                     
CopyUtils.copy(in, fout);                                                                              CopyUtils.copy(in, fout);                                                                           
fout.flush();                                                                                          fout.flush();                                                                                       
TestUtils.checkFile(destination, m_testFile);                                                          TestUtils.checkFile(destination, m_testFile);                                                       
TestUtils.checkWrite(fout);                                                                            TestUtils.checkWrite(fout);                                                                         
} finally {                                                                                          |                                                                                                     
fout.close();                                                                                        |                                                                                                     
}                                                                                                      }                                                                                                   
TestUtils.deleteFile(destination);                                                                     TestUtils.deleteFile(destination);                                                                  
}                                                                                                      }                                                                                                   
