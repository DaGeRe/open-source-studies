public void testCopyFile1ToDir() throws Exception {                                                    public void testCopyFile1ToDir() throws Exception {                                                 
File directory = new File(getTestDirectory(), "subdir");                                               File directory = new File(getTestDirectory(), "subdir");                                            
if (!directory.exists())                                                                               if (!directory.exists())                                                                            
directory.mkdirs();                                                                                    directory.mkdirs();                                                                                 
File destination = new File(directory, testFile1.getName());                                           File destination = new File(directory, testFile1.getName());                                        
FileUtils.copyFileToDirectory(testFile1, directory);                                                 | File result = FileUtils.copyFileToDirectory(testFile1, directory);                                  
                                                                                                     | assertEquals("Check File", destination, result);                                                    
assertTrue("Check Exist", destination.exists());                                                       assertTrue("Check Exist", destination.exists());                                                    
assertTrue("Check Full copy", destination.length() == testFile1Size);                                  assertTrue("Check Full copy", destination.length() == testFile1Size);                               
try {                                                                                                  try {                                                                                               
FileUtils.copyFileToDirectory(destination, directory);                                                 FileUtils.copyFileToDirectory(destination, directory);                                              
fail("Should not be able to copy a file into the same directory as itself");                           fail("Should not be able to copy a file into the same directory as itself");                        
} catch (IOException ioe) {                                                                            } catch (IOException ioe) {                                                                         
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
