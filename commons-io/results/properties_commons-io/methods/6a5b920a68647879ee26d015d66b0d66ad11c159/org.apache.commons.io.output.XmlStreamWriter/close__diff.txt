@Override                                                                                              @Override                                                                                           
public void close() throws IOException {                                                               public void close() throws IOException {                                                            
if (writer == null) {                                                                                  if (writer == null) {                                                                               
encoding = "UTF-8";                                                                                  | encoding = defaultEncoding;                                                                         
writer = new OutputStreamWriter(out, encoding);                                                        writer = new OutputStreamWriter(out, encoding);                                                     
writer.write(xmlPrologWriter.toString());                                                              writer.write(xmlPrologWriter.toString());                                                           
}                                                                                                      }                                                                                                   
writer.close();                                                                                        writer.close();                                                                                     
}                                                                                                      }                                                                                                   
