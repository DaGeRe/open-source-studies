@Test                                                                                                  @Test                                                                                               
public void testReadXmlWithBOMUcs2() throws Exception {                                                public void testReadXmlWithBOMUcs2() throws Exception {                                             
Assume.assumeFalse("This test does not pass on some IBM VMs xml parsers", System.getProperty("java.v   Assume.assumeFalse("This test does not pass on some IBM VMs xml parsers", System.getProperty("java.v
Assume.assumeTrue(Charset.isSupported("ISO-10646-UCS-2"));                                             Assume.assumeTrue(Charset.isSupported("ISO-10646-UCS-2"));                                          
final byte[] data = "&lt;?xml version=\"1.0\" encoding=\"ISO-10646-UCS-2\"?&gt;&lt;X/&gt;".getBytes(   final byte[] data = "&lt;?xml version=\"1.0\" encoding=\"ISO-10646-UCS-2\"?&gt;&lt;X/&gt;".getBytes(
parseXml(new BOMInputStream(createUtf16BeDataStream(data, true), ByteOrderMark.UTF_16BE));           | try (BOMInputStream in = new BOMInputStream(createUtf16BeDataStream(data, true), ByteOrderMark.UTF_1
                                                                                                     | parseXml(in);                                                                                       
                                                                                                     | }                                                                                                   
parseXml(createUtf16BeDataStream(data, true));                                                         parseXml(createUtf16BeDataStream(data, true));                                                      
}                                                                                                      }                                                                                                   
