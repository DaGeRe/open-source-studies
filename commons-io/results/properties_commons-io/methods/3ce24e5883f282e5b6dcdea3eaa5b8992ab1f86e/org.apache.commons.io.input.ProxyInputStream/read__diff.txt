@Override                                                                                              @Override                                                                                           
public int read() throws IOException {                                                                 public int read() throws IOException {                                                              
try {                                                                                                  try {                                                                                               
return in.read();                                                                                    | beforeRead(1);                                                                                      
                                                                                                     | int b = in.read();                                                                                  
                                                                                                     | afterRead(b != -1 ? 1 : -1);                                                                        
                                                                                                     | return b;                                                                                           
} catch (IOException e) {                                                                              } catch (IOException e) {                                                                           
handleIOException(e);                                                                                  handleIOException(e);                                                                               
return -1;                                                                                             return -1;                                                                                          
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
