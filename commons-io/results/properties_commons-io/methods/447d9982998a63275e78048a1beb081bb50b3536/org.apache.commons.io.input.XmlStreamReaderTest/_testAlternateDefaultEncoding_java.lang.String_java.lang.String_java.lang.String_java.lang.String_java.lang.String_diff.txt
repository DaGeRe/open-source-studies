public void _testAlternateDefaultEncoding(String cT, String bomEnc, String streamEnc, String prologE   public void _testAlternateDefaultEncoding(String cT, String bomEnc, String streamEnc, String prologE
try {                                                                                                  try {                                                                                               
InputStream is = getXmlStream(bomEnc, (prologEnc == null) ? XML1 : XML3, streamEnc, prologEnc);        InputStream is = getXmlStream(bomEnc, (prologEnc == null) ? XML1 : XML3, streamEnc, prologEnc);     
XmlStreamReader.setDefaultEncoding(alternateEnc);                                                    | XmlStreamReader xmlReader = new XmlStreamReader(is, cT, false, alternateEnc);                       
XmlStreamReader xmlReader = new XmlStreamReader(is, cT, false);                                      |                                                                                                     
if (!streamEnc.equals("UTF-16")) {                                                                     if (!streamEnc.equals("UTF-16")) {                                                                  
} else {                                                                                               } else {                                                                                            
assertEquals(xmlReader.getEncoding().substring(0, streamEnc.length()), streamEnc);                     assertEquals(xmlReader.getEncoding().substring(0, streamEnc.length()), streamEnc);                  
}                                                                                                      }                                                                                                   
} finally {                                                                                            } finally {                                                                                         
XmlStreamReader.setDefaultEncoding(null);                                                            |                                                                                                     
}                                                                                                      }                                                                                                   
}                                                                                                      }                                                                                                   
