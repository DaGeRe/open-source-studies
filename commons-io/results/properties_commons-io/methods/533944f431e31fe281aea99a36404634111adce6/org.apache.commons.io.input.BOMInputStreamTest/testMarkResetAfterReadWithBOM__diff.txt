@Test                                                                                                  @Test                                                                                               
public void testMarkResetAfterReadWithBOM() throws Exception {                                         public void testMarkResetAfterReadWithBOM() throws Exception {                                      
final byte[] data = new byte[] { 'A', 'B', 'C', 'D' };                                                 final byte[] data = new byte[] { 'A', 'B', 'C', 'D' };                                              
final InputStream in = new BOMInputStream(createUtf8DataStream(data, true));                         | try (final InputStream in = new BOMInputStream(createUtf8DataStream(data, true))) {                 
assertTrue(in.markSupported());                                                                        assertTrue(in.markSupported());                                                                     
in.read();                                                                                             in.read();                                                                                          
in.mark(10);                                                                                           in.mark(10);                                                                                        
in.read();                                                                                             in.read();                                                                                          
in.read();                                                                                             in.read();                                                                                          
in.reset();                                                                                            in.reset();                                                                                         
assertEquals('B', in.read());                                                                          assertEquals('B', in.read());                                                                       
in.close();                                                                                          |                                                                                                     
}                                                                                                      }                                                                                                   
                                                                                                     | }                                                                                                   
